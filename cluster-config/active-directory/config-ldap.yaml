Region: eu-west-1
Image:
  Os: alinux2
HeadNode:
  InstanceType: t3.medium
  Networking:
    SubnetId: subnet-0f311877f669b5d23 # DevWorkspaceVPC/DUB2/Public
  Ssh:
    KeyName: mgiacomo
    AllowedIps: pl-01a74268
  Iam:
    AdditionalIamPolicies:
      - Policy: arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore # Required to report patching status
Scheduling:
  Scheduler: slurm
  SlurmSettings:
    QueueUpdateStrategy: DRAIN
  SlurmQueues:
    - Name: q1
      ComputeResources:
        - Name: t3small
          InstanceType: t3.small
          MinCount: 1
          MaxCount: 10
      Networking:
        SubnetIds:
          - subnet-058aeeb0d6bc887cb # DevWorkspaceVPC/DUB2/Private
      Iam:
        AdditionalIamPolicies:
          - Policy: arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore # Required to report patching status
DirectoryService:
  DomainName: corp.mgiacomo.com
  DomainAddr: ldap://3.5.106.129,ldap://3.5.153.74
  PasswordSecretArn: arn:aws:secretsmanager:eu-west-1:319414405305:secret:PasswordSecret-corp-mgiacomo-com-Vid6A7
  DomainReadOnlyUser: cn=ReadOnlyUser,ou=Users,ou=CORP,dc=corp,dc=mgiacomo,dc=com
  LdapTlsReqCert: never
#  LdapAccessFilter: "!(CN=UserTeamO*)"
#  LdapAccessFilter: (|(memberOf=CN=TeamTwo,OU=Users,OU=CORP,DC=corp,DC=mgiacomo,DC=com)(memberOf=CN=TeamThree,OU=Users,OU=CORP,DC=corp,DC=mgiacomo,DC=com))
#  LdapAccessFilter: memberOf=CN=marketing-team,OU=Users,OU=CORP,DC=corp,DC=mgiacomo,DC=com
  AdditionalSssdConfigs:
    debug_level: "0xFFF0"
    cache_credentials: False
    ldap_auth_disable_tls_never_use_in_production: True
#    override_homedir: /shared/efs/home/%u
